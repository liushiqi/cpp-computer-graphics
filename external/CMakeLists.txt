# Suppress all warnings from third-party projects.
if (CMAKE_CXX_COMPILER_ID MATCHES "GNU|Clang")
  set_property(DIRECTORY APPEND PROPERTY COMPILE_OPTIONS -w)
elseif (CMAKE_CXX_COMPILER_ID MATCHES "MSVC")
  string(REGEX REPLACE "/W[3|4]" "" CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
endif ()

set(BUILD_SHARED_LIBS OFF)
set(ASSIMP_BUILD_ASSIMP_TOOLS OFF)
set(ASSIMP_BUILD_TESTS OFF)
# To make ASSIMP_COPY_BINARIES on MSVC happy, will be fixed in assimp 5.1
set(ASSIMP_BUILD_OBJ_EXPORTER ON)
set(ASSIMP_BUILD_ALL_EXPORTERS_BY_DEFAULT OFF)
set(ASSIMP_BUILD_OBJ_IMPORTER ON)
set(ASSIMP_BUILD_BLEND_IMPORTER ON)
set(ASSIMP_BUILD_FBX_IMPORTER ON)
set(ASSIMP_BUILD_STL_IMPORTER ON)
set(ASSIMP_BUILD_ALL_IMPORTERS_BY_DEFAULT OFF)

set(SKIP_GLSLANG_INSTALL OFF)
set(ENABLE_GLSLANG_INSTALL OFF)
set(BUILD_TESTING OFF)

set(CXXOPTS_BUILD_EXAMPLES OFF)
set(CXXOPTS_BUILD_TESTS OFF)
set(CXXOPTS_ENABLE_INSTALL OFF)

set(SHADERC_SKIP_INSTALL ON)
set(SHADERC_SKIP_TESTS ON)
set(SHADERC_SKIP_EXAMPLES ON)
set(SHADERC_SPIRV_TOOLS_DIR "${CMAKE_SOURCE_DIR}/external/spirv-tools" CACHE STRING "" FORCE)
set(SHADERC_SPIRV_HEADERS_DIR "${CMAKE_SOURCE_DIR}/external/spirv-headers" CACHE STRING "" FORCE)
set(SHADERC_GLSLANG_DIR "${CMAKE_SOURCE_DIR}/external/glslang" CACHE STRING "" FORCE)

set(SPIRV_REFLECT_EXECUTABLE OFF)
set(SPIRV_REFLECT_EXAMPLES OFF)
set(SPIRV_REFLECT_STATIC_LIB ON)

add_subdirectory(assimp)
add_subdirectory(cxxopts)
add_subdirectory(glm)
add_subdirectory(shaderrc)
add_subdirectory(spdlog)
add_subdirectory(spirv-reflect)
